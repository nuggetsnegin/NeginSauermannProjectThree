$(function(){const catGame={happiness:0,catBody:['head','back','tail','frontLegs','belly','backLegs'],correctPetCount:0,favoriteBodyPart:null,timer:0,countdown:function(){if(catGame.timer==0){catGame.reset();catGame.timerDiv.innerHTML=`<h2>out of time!</h2>`;$('.losingScreen').show();gameOver.play();$('.catBody').hide();}else{catGame.timerDiv.innerHTML=`<h2>${catGame.timer}seconds remaining</h2>`;catGame.timer--;}},domGetter:function(){catGame.timerDiv=document.getElementById('timer');catGame.catBodyPart=$('.catBody').children();catGame.button=document.getElementById('start');catGame.butthole=$('.butthole').text();},setRandomBody:function(){let random=Math.floor((Math.random()*6));catGame.favoriteBodyPart=catGame.catBody[random];},start:function(){$(catGame.button).on('click touchstart',function(){randomCat();gameOver.pause();gameWin.pause();audio.play();$('.catBody').show();catGame.setRandomBody();catGame.timerSpeed=setInterval(catGame.countdown,1000);catGame.timer=30;catGame.happiness=0;$('.happiness').show();$('.happiness').append(`Happiness:`);catGame.hide();});},hide:function(){$('.instructions').hide();$('.winningScreen').hide();$('.losingScreen').hide();$('footer').hide();$('.buttToucher').hide();$(catGame.button).hide();},reset:function(){clearTimeout(catGame.timerSpeed);$(catGame.button).show().text('play again?');$('.happiness').html("");audio.pause();$('.catBody').removeClass('youDidABadThing');$('.catBody').removeClass('yes');$('.catBody').removeClass('no');},init:function(){$('.catBody').hide();catGame.domGetter();catGame.start();feelingFeline();}}; const feelingFeline=()=>{$('.catBody').on("animationend",function(){$(this).removeClass('no yes youDidABadThing');});for(let i=0;i<catGame.catBodyPart.length;i++){$(catGame.catBodyPart[i]).on('click touchstart',function(){let petting=$(catGame.catBodyPart[i]).data().part;if(petting===catGame.favoriteBodyPart){$('.catBody').addClass('yes');catGame.correctPetCount++;catGame.happiness++;$('.happiness').append(`<i class="fas fa-heart"></i>`);checkHappiness();changeFavoriteSpot();meow.play();}else if(petting===catGame.butthole){catGame.happiness=-1000;dead.play();$('.catBody').addClass('youDidABadThing').fadeOut();$('.buttToucher').show();checkHappiness();}else if(petting!==catGame.favoriteBodyPart){checkHappiness();$('.catBody').addClass('no');}})};}; const checkHappiness=()=>{if(catGame.happiness===5){catGame.timerDiv.innerHTML=`<h2>You finished with ${catGame.timer}seconds remaining!</h2>`;$('.happiness').hide();$('.catBody').hide();$('.winningScreen').show();gameWin.play();catGame.reset();}else if(catGame.happiness<0){gameOver.play();catGame.reset();}}; const changeFavoriteSpot=()=>{if(catGame.correctPetCount==1){catGame.correctPetCount=0;catGame.setRandomBody();}}; const randomCat=()=>{let catImage=['cat1.png','cat2.png','cat3.png','cat4.png','cat5.png','cat6.png','cat7.png','cat8.png'];$('.catBody').css({'background-image':'url(./assets/'+catImage[Math.floor(Math.random()*catImage.length)]+')'});}; let audio=document.createElement('audio');audio.setAttribute('src','./assets/wario.mp3');audio.loop=true;let dead=document.createElement('audio');dead.setAttribute('src','./assets/died.mp3');let meow=document.createElement('audio');meow.setAttribute('src','./assets/meow.wav');let gameOver=document.createElement('audio');gameOver.setAttribute('src','./assets/gameOver.mp3');let gameWin=document.createElement('audio');gameWin.setAttribute('src','./assets/kirby.mp3');catGame.init();});
